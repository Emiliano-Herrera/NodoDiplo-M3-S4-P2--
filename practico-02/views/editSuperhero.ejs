<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Editar Superheroe</title>
    <link rel="stylesheet" href="/css/editSuperhero.css">
</head>

<body>
    <div class="contenedor">
        <div class="header">
            <h1>Editar Superheroes</h1>
            <p>Completa el formulario para editar el Superheroe</p>
            <!-- <a href="/api/menu" class="boton-header">Volver al dashboard</a> -->
        </div>
        <div class="contenedor-formulario">
            <form id="superheroeForm">
                <div class="form-grupo">
                    <label for="nombreSuperheroe">Nombre del Superheroe</label>
                    <!-- Trae el campo prellenado del nombre del heroe -->
                    <input type="text" name="nombreSuperheroe" id="nombreSuperheroe"
                        value="<%= superheroe.nombreSuperHeroe %>" required>
                    <p class="texto-ayuda">Minimo 3 caracteres, Maximo 60</p>
                    <p class="error-mensaje" id="error-nombreSuperheroe"></p>
                </div>
                <div class="form-grupo">
                    <label for="nombreReal">Nombre real</label>
                    <!-- Trae el campo prellenado del nombre real del heroe -->
                    <input type="text" name="nombreReal" id="nombreReal" value="<%= superheroe.nombreReal %>" required>
                    <p class="texto-ayuda">Minimo 3 caracteres, Maximo 60</p>
                    <p class="error-mensaje" id="error-nombreReal"></p>
                </div>
                <div class="form-grupo">
                    <label for="edad">Edad del Superheroe</label>
                    <!-- Trae el campo prellenado del edad del heroe -->
                    <input type="number" name="edad" id="edad" min="0" value="<%= superheroe.edad %>" required>
                    <p class="texto-ayuda">Debe ser un numero mayor o igual a 0</p>
                    <p class="error-mensaje" id="error-edad"></p>
                </div>
                <div class="form-grupo">
                    <label for="planetaOrigen">Planeta de origen</label>
                    <!-- Trae el campo prellenado del planeta de origen del heroe -->
                    <input type="text" name="planetaOrigen" id="planetaOrigen" value="<%= superheroe.planetaOrigen %>">
                    <p class="texto-ayuda">Opcional</p>
                    <p class="error-mensaje" id="error-planetaOrigen"></p>
                </div>
                <div class="form-grupo">
                    <label for="debilidad">Debilidad</label>
                    <!-- Trae el campo prellenado del debilidad del heroe -->
                    <input type="text" name="debilidad" id="debilidad" value="<%= superheroe.debilidad %>">
                    <p class="texto-ayuda">Opcional</p>
                    <p class="error-mensaje" id="error-debilidad"></p>
                </div>
                <div class="form-grupo">
                    <label for="poderes">Poderes</label>
                    <div id="poderesContenedor" class="array-poderes"></div>
                    <!-- Trae los campos prellenados de poderes del heroe -->
                    <button type="button" class="boton-añadir-item" onclick="añadirItem('poderes', '')">Agregar
                        Poder</button>
                    <p class="texto-ayuda">Minimo un poder</p>
                    <p class="error-mensaje" id="error-poderes"></p>
                </div>
                <div class="form-grupo">
                    <label for="aliados">Aliados</label>
                    <div id="aliadosContenedor" class="array-aliados"></div>
                    <!-- Trae los campos prellenados de poderes del heroe -->
                    <button type="button" class="boton-añadir-item" onclick="añadirItem('aliados', '')">Agregar
                        Poder</button>
                    <p class="texto-ayuda">Opcional</p>
                    <p class="error-mensaje" id="error-aliados"></p>
                </div>
                <div class="form-grupo">
                    <label for="enemigos">enemigos</label>
                    <div id="enemigosContenedor" class="array-enemigos"></div>
                    <!-- Trae los campos prellenados de poderes del heroe -->
                    <button type="button" class="boton-añadir-item" onclick="añadirItem('enemigos', '')">Agregar
                        Poder</button>
                    <p class="texto-ayuda">Opcional</p>
                    <p class="error-mensaje" id="error-enemigos"></p>
                </div>
                <div class="form-grupo">
                    <label for="creador">Creador</label>
                    <!-- Trae el campo prellenado del creador del heroe -->
                    <input type="text" name="creador" id="creador" value="<%= superheroe.creador %>">
                    <p class="texto-ayuda">Opcional</p>
                    <p class="error-mensaje" id="error-creador"></p>
                </div>

                <div class="accionForm">
                    <a href="/api/menu" class="boton-cancelar">Cancelar</a>
                    <button type="submit" class="boton-editar">Editar Superheroe</button>
                </div>
            </form>
        </div>
    </div>
    <script>
        window.superheroe = <% - JSON.stringify(superheroe) %>;
        /*
        Toma el objeto superheroe del servidor (EJS)
        Lo convierte a JSON y lo asigna a window.superheroe
        Así el JavaScript puede acceder a los datos existentes
        */
    </script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <!-- <script src="/js/editSuperhero.js"></script> -->
</body>

</html>